!function e(t,n,o){function r(a,i){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!i&&u)return u(a,!0);if(c)return c(a,!0);throw new Error("Cannot find module '"+a+"'")}var s=n[a]={exports:{}};t[a][0].call(s.exports,function(e){var n=t[a][1][e];return r(n?n:e)},s,s.exports,e,t,n,o)}return n[a].exports}for(var c="function"==typeof require&&require,a=0;a<o.length;a++)r(o[a]);return r}({1:[function(e){var t,n,o,r;t=angular.module("mampfApp",["onsen.directives","ngTouch","ngMd5","ui.map","angularLocalStorage"]),n={config:e("./config/static.coffee"),_:window._},t.constant(n),r={device:e("./factories/device.coffee"),cordovaReady:e("./factories/cordova_ready.coffee"),contactChooser:e("./factories/contact_chooser.coffee"),geoLocation:e("./factories/geolocation.coffee"),sharedData:e("./factories/shared_data.coffee"),server:e("./factories/server.coffee")},t.factory(r),o={ContactCtrl:e("./controllers/contact_ctrl.coffee"),MapsCtrl:e("./controllers/maps_ctrl.coffee"),LunchCtrl:e("./controllers/lunch_ctrl.coffee"),ProfileCtrl:e("./controllers/profile_ctrl.coffee")},t.controller(o),window.onGoogleReady=function(){return console.log("google is ready"),angular.bootstrap(document.getElementsByTagName("body"),["mampfApp"])}},{"./config/static.coffee":2,"./controllers/contact_ctrl.coffee":3,"./controllers/lunch_ctrl.coffee":4,"./controllers/maps_ctrl.coffee":5,"./controllers/profile_ctrl.coffee":6,"./factories/contact_chooser.coffee":7,"./factories/cordova_ready.coffee":8,"./factories/device.coffee":9,"./factories/geolocation.coffee":10,"./factories/server.coffee":11,"./factories/shared_data.coffee":12}],2:[function(e,t){var n;n={server:"http://141.83.68.32/mampf",dummyContacts:[{displayName:"dummy",selected:!1,telephone:"+4917629322211",telephoneHash:"f828ffdfcd8b508cd0a9d16771a55745"},{displayName:"dummy2",selected:!1,telephone:"+4917629322212",telephoneHash:"2180878ef6bb945692cd66a0c053faf0"}],dummyCities:[{cityName:"Footown",selected:!1,latitude:-6,longitude:-7},{cityName:"Bartown",selected:!1,latitude:-5,longitude:-8}],dummyUser:{telephone:"01522905094913",telephoneHash:"d949dd7b976c60f70f6492ee673d6768"}},t.exports=n},{}],3:[function(e,t){var n;n=["$scope","contactChooser","sharedData","storage","config","md5",function(e,t,n,o,r,c){return o.bind(e,"contacts",{defaultValue:r.dummyContacts}),e.toggleContact=function(t){return t.selected=!t.selected,n.contacts=e.contacts},e.contactAdd=function(){return t.get().then(function(t){var n,o;return console.log("contact",t,t.phoneNumbers.value),t.phoneNumbers&&(n=t.phoneNumbers[1].value).trim()&&(n=n.replace(/^\+49\s*/,0),o=c.createHash(""+n)),t={displayName:t.displayName,telephone:n,telephoneHash:o,selected:!1},console.log("contact after",t),e.contacts.push(t)},function(e){return console.log("lol fehler",e)})}}],t.exports=n},{}],4:[function(e,t){var n;n=["$scope","sharedData","storage","config","geoLocation","server",function(e,t,n,o,r,c){return n.bind(e,"user"),e.getCurrentDateTime=function(){var t;return e.startTime=(new Date).toLocaleTimeString(navigator.language,{hour:"2-digit",minute:"2-digit"}),t=(new Date).getTime()+72e5,e.endTime=new Date(t).toLocaleTimeString(navigator.language,{hour:"2-digit",minute:"2-digit"})},e.getCurrentDateTime(),e.getCount=function(){return t.contacts.filter(function(e){return e.selected}).length},e.getSelectedCityName=function(){var e;return e=t.cities.filter(function(e){return e.selected}),e.length?e[0].cityName:null},e.doRequest=function(){var n,o,r,a,i,u,s,l;return l=new Date,n=""+l.getFullYear()+"-"+(l.getMonth()+1)+"-"+l.getDate(),u=new Date(Date.parse(""+n+", "+e.startTime)).toISOString(),o=new Date(Date.parse(""+n+", "+e.endTime)).toISOString(),r=t.contacts.filter(function(e){return e.selected}).map(function(e){return e.telephoneHash}),s=e.user.telephoneHash,i=t.cities.filter(function(e){return e.selected}),i.length?(a={identity:s,invitees:r,currentPosition:{longitude:i[0].longitude,latitude:i[0].latitude},timeSlots:[{startTime:u,endTime:o}]},console.log("reqzest is",a),c.create({url:"mampf",data:a}).then(function(e){return console.log("we have a response",e)})):void 0}}],t.exports=n},{}],5:[function(e,t){var n;n=["$scope","geoLocation","storage","config","sharedData",function(e,t,n,o,r){return n.bind(e,"cities",{defaultValue:o.dummyCities}),e.cityCount=e.cities.length,e.selectedMap=null,e.position=null,e.marker=null,e.locationModel="Ort "+(e.cityCount+1),e.mapOptions={center:new google.maps.LatLng(35.784,-78.67),zoom:15,mapTypeId:google.maps.MapTypeId.ROADMAP},e.toggleCity=function(t){var n,o,c,a;for(a=e.cities,o=0,c=a.length;c>o;o++)n=a[o],n.selected=!1;return t.selected=!t.selected,r.cities=e.cities},e.deleteAllSelected=function(){var t,n,o,r,c;for(r=e.cities.filter(function(e){return e.selected}),c=[],n=0,o=r.length;o>n;n++)t=r[n],c.push(e.deleteCity(t));return c},e.deleteCity=function(t){return e.cities.splice(e.cities.indexof(t),1)},e.addNewLocation=function(){var t,n;return t=e.marker.getPosition().lat(),n=e.marker.getPosition().lng(),e.cities.push({cityName:e.locationModel,selected:!1,latitude:t,longitude:n})},e.mapClick=function(t,n){return console.log("event",n),e.setMarkerPosition(n[0].latLng.lat(),n[0].latLng.lng())},e.setMarkerPosition=function(t,n){return e.marker.setPosition(new google.maps.LatLng(t,n))},e.refreshPosition=function(){return t.getPosition().then(function(t){var n;return e.position=t,n={lat:t.coords.latitude,lng:t.coords.longitude},e.mampfMap&&e.mampfMap.setCenter(n),e.marker?e.marker.setPosition(n):e.marker=new google.maps.Marker({position:n,map:e.mampfMap})},function(e){return console.log("lol noch ein geo fehler",e)})},e.refreshPosition()}],t.exports=n},{}],6:[function(e,t){var n;n=["$scope","md5","config","_","storage","sharedData",function(e,t,n,o,r,c){return r.bind(e,"user",{defaultValue:n.dummyUser}),c.user=e.user,e.$watch("user.telephone",o.debounce(function(n){return n?e.$apply(function(){return e.user.telephoneHash=t.createHash(""+n),c.user=e.user}):void 0},500))}],t.exports=n},{}],7:[function(e,t){var n;n=["$window","$timeout","$q",function(e,t,n){var o;return o=function(){var e;return e=n.defer(),navigator.contacts.pickContact(function(t){return e.resolve(t)},function(t){return e.reject(t)}),e.promise},{get:o}}],t.exports=n},{}],8:[function(e,t){var n;n=["$q","$rootScope","$document",function(e,t,n){var o;return o=e.defer(),n.bind("deviceready",function(){return t.$apply(o.resolve)}),{ready:function(){return o.promise}}}],t.exports=n},{}],9:[function(e,t){var n;n=function(){var e,t,n,o,r;for(t={},r=["cordova","model","name","platform","uuid","version"],n=0,o=r.length;o>n;n++)e=r[n],t[e]="undefined"!=typeof device&&null!==device?device[e]:null;return t},t.exports=n},{}],10:[function(e,t){var n;n=["$q",function(e){var t;return t=function(){var t;return t=e.defer(),navigator.geolocation.getCurrentPosition(function(e){return t.resolve(e)},function(e){return t.reject(e)},{maximumAge:5e3,timeout:5e3,enableHighAccuracy:!0}),t.promise},{getPosition:t}}],t.exports=n},{}],11:[function(e,t){var n;n=["$http","config",function(e,t){var n;return n=function(n){return e({method:n.method,url:""+t.server,data:n.data})},{create:function(e){return n(angular.extend(e,{method:"POST"}))},update:function(e){return n(angular.extend(e,{method:"PUT"}))},"delete":function(e){return n(angular.extend(e,{method:"DELETE"}))},get:function(e){return n(angular.extend(e,{method:"GET"}))}}}],t.exports=n},{}],12:[function(e,t){var n;n=function(){return{contacts:[],cities:[]}},t.exports=n},{}]},{},[1]);